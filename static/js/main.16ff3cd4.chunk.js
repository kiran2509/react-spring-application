(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{37:function(t,e,n){},38:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var i=n(1),c=n(29),a=n.n(c),r=(n(37),n(7)),s=n(8),l=n(11),o=n(10),u=(n.p,n(38),n(39),n(16)),d=n(9),h=n(30),b=n.n(h).a.create({baseURL:"http://localhost:8080/tts/",headers:{"Content-Type":"application/json"}}),j=new(function(){function t(){Object(r.a)(this,t)}return Object(s.a)(t,[{key:"getAll",value:function(){return b.get("tutorials")}},{key:"get",value:function(t){return b.get("/tutorial/".concat(t))}},{key:"create",value:function(t){return b.post("/tutorials",t)}},{key:"update",value:function(t,e){return b.put("/tutorial/".concat(t),e)}},{key:"delete",value:function(t){return b.delete("/tutorial/".concat(t))}},{key:"deleteAll",value:function(){return b.delete("/tutorials")}},{key:"findByTitle",value:function(t){return b.get("/tutorials?title=".concat(t))}}]),t}()),p=n(0),m=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).handleBlur=function(t){i.setState({touched:Object(d.a)(Object(d.a)({},i.state.touched),{},Object(u.a)({},t,!0))})},i.handleChange=function(t){var e=t.target,n=e.name,c=e.value,a=i.state.errors;"title"===n&&(a.title=0===i.state.title.length?"Field should not be empty":""),"description"===n&&(a.description=0===i.state.description.length?"Field should not be empty":""),i.setState(Object(u.a)({errors:a},n,c))},i.saveTutorial=function(){var t={title:i.state.title,description:i.state.description};j.create(t).then((function(t){i.setState({id:t.data.id,title:t.data.title,description:t.data.description,published:t.data.published,submitted:!0}),console.log(t.data)})).catch((function(t){return console.error(t)}))},i.handleSubmit=function(t){t.preventDefault(),console.log("".concat(i.state.title," ").concat(i.state.description))},i.addTutorial=function(){i.setState({id:null,title:"",description:"",published:!1,submitted:!1})},i.state={id:null,title:"",description:"",published:!1,submitted:!1,errors:{title:"",description:""},touched:{title:!1,description:!1}},i}return Object(s.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.errors,i=e.title,c=e.description,a=(e.touched,i.length>0&&c.length>0);return Object(p.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"You have successfully submitted"}),Object(p.jsx)("button",{className:"btn btn-success",onClick:this.addTutorial,children:"Add"})]}):Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"title",children:"Title"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:this.state.title,onBlur:function(){return t.handleBlur("title")},onChange:this.handleChange,noValidate:!0}),n.title&&Object(p.jsx)("span",{style:{color:"#ff0000"},children:n.title})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"description",children:"Description"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:this.state.description,onBlur:function(){return t.handleBlur("description")},onChange:this.handleChange,noValidate:!0}),n.description&&Object(p.jsx)("span",{style:{color:"#ff0000"},children:n.description})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success",disabled:!a,onClick:this.saveTutorial,children:"Submit"})]})})})}}]),n}(i.Component),O=n(17),f=n(13),v=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).changeTitle=function(t){i.setState({searchTitle:t.target.value})},i.searchByTitle=function(){j.findByTitle(i.state.searchTitle).then((function(t){i.setState({tutorials:t.data}),console.log(t.data)})).catch((function(t){return console.log(t)}))},i.setActiveTutorial=function(t,e){i.setState({currentTutorial:t,currentIndex:e})},i.refreshList=function(){i.retrieveTutorials(),i.setState({currentTutorial:null,currentIndex:-1})},i.removeTutorials=function(){j.deleteAll().then((function(t){console.log(t.data),i.refreshList()})).catch((function(t){return console.log(t)}))},i.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:""},i.retrieveTutorials=i.retrieveTutorials.bind(Object(O.a)(i)),i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"retrieveTutorials",value:function(){var t=this;j.getAll().then((function(e){t.setState({tutorials:e.data}),console.log(e.data)})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.tutorials,i=e.currentTutorial,c=e.currentIndex,a=e.searchTitle;return Object(p.jsxs)("div",{className:"list row",children:[Object(p.jsx)("div",{className:"col-md-8",children:Object(p.jsxs)("div",{className:"input-group mb-3",children:[Object(p.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:a,onChange:this.changeTitle}),Object(p.jsx)("div",{className:"input-group-append",children:Object(p.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchByTitle,children:"Search"})})]})}),Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsx)("h4",{children:"Tutorials List"}),Object(p.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,n){return Object(p.jsx)("li",{className:"list-group-item "+(n===c?"active":""),onClick:function(){return t.setActiveTutorial(e,n)},children:e.title},n)}))}),Object(p.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials,children:"Remove All"})]}),Object(p.jsx)("div",{className:"col-md-6",children:i?Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:"Tutorial"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:Object(p.jsx)("strong",{children:"Title:"})})," ",i.title]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:Object(p.jsx)("strong",{children:"Description:"})})," ",i.description]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:Object(p.jsx)("strong",{children:"Status:"})})," ",i.published?"Published":"Pending"]}),Object(p.jsx)(f.b,{to:"/tutorials/"+i.id,className:"badge badge-warning",children:"Edit"})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})}}]),n}(i.Component),x=n(12),g=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).getTutorial=function(t){j.get(t).then((function(t){i.setState({currentTutorial:t.data}),console.log(t.data)})).catch((function(t){console.log(t)}))},i.onChangeTitle=function(t){i.setState((function(e){return{currentTutorial:Object(d.a)(Object(d.a)({},e.currentTutorial),{},{title:t.target.value})}}))},i.onChangeDescription=function(t){i.setState((function(e){return{currentTutorial:Object(d.a)(Object(d.a)({},e.currentTutorial),{},{description:t.target.value})}}))},i.updatePublished=function(t){var e={id:i.state.currentTutorial.id,title:i.state.currentTutorial.title,description:i.state.currentTutorial.description,published:t};j.update(e.id,e).then((function(e){i.setState((function(e){return{currentTutorial:Object(d.a)(Object(d.a)({},e.currentTutorial),{},{published:t})}})),console.log(e.data)})).catch((function(t){console.log(t)}))},i.updateTutorial=function(){var t=i.state.currentTutorial.id,e=i.state.currentTutorial;j.update(t,e).then((function(t){console.log(t.data),i.setState({message:"Data updated successfully"})})).catch((function(t){return console.log(t)}))},i.deleteTutorial=function(){var t=i.state.currentTutorial.id;j.delete(t).then((function(t){console.log(t.data),i.props.history.push("/tutorials")}))},i.state={currentTutorial:{id:null,title:"",description:"",published:!1},message:""},i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"render",value:function(){var t=this,e=this.state.currentTutorial;return Object(p.jsx)("div",{children:e?Object(p.jsxs)("div",{className:"edit-form",children:[Object(p.jsx)("h4",{children:"Tutorial"}),Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"title",children:"Title"}),Object(p.jsx)("input",{type:"text",className:"form-control",value:e.title,onChange:this.onChangeTitle})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"description",children:"Description"}),Object(p.jsx)("input",{type:"text",className:"form-control",value:e.description,onChange:this.onChangeDescription})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Status:"}),e.published?"Published":"Pending"]})]}),Object(p.jsx)("p",{children:this.state.message}),e.published?Object(p.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updatePublished(!1)},children:"Unpublish"}):Object(p.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updatePublished(!0)},children:"Publish"}),Object(p.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateTutorial,children:"Update"})," ","   ",Object(p.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteTutorial,children:"Delete"})]}):Object(p.jsx)("div",{children:Object(p.jsx)("p",{children:"Click on any Tutorial"})})})}}]),n}(i.Component),T=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(p.jsx)("a",{href:"/tutorials",className:"navbar-brand",children:"TutorialList"}),Object(p.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(f.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(f.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(p.jsx)("div",{className:"container mt-3",children:Object(p.jsxs)(x.c,{children:[Object(p.jsx)(x.a,{exact:!0,path:["/","/tutorials"],component:v}),Object(p.jsx)(x.a,{exact:!0,path:"/add",component:m}),Object(p.jsx)(x.a,{path:"/tutorials/:id",component:g})]})})]})}}]),n}(i.Component),y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),c(t),a(t),r(t)}))};a.a.render(Object(p.jsx)(f.a,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),y()}},[[67,1,2]]]);
//# sourceMappingURL=main.16ff3cd4.chunk.js.map